<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Report PDF</title>
    <style>
      body { font-family: Helvetica, sans-serif; margin: 40px; font-size:12px }
      h1 { color: #007bff; }
      table { border-collapse: collapse; width: 100%; margin-top: 20px; }
      td, th { border: 1px solid #ccc; padding: 8px; text-align: left;border-collapse: collapse; }
      th { background-color: #f0f0f0;border-collapse: collapse; }
      .warp{
        max-width:100vw;
        
      }
     .container{
      line-height: 12px;
      float:left;
      }
      .elem{
      margin:2px 8px;
      padding:3px;
      width:150px;
      text-align:left;
      line-height: 18px;
      float:left;
      }
      .elemParam{
      margin:2px 8px;
      padding:3px;
      width:90px;
      text-align:left;
      float:left;
      line-height: 18px;
      }
      h2{
        margin:0;
      }
      h4{
        margin:2px
      }
      
    </style>
    
  </head>
  <body>
    <img src="../dist/img/LogoMushborgWeb.png"  style="width: 100px;">
    <h1>Strain: <%= data.strain_name%></h1>
    <h2>Dati data</h2>
    <small>Aggiornato il <%= data.updatedAt %></small>
    <div class="warp">

    
    <div class="container">
      <div class="elem">
        <b>Codice data:</b><br><%= data.code_strain%>
      </div>
      <div class="elem">
        <b>Nome data:</b><br><%= data.strain_name%>
      </div>
      <div class="elem">
        <b>Descrizione:</b><br><%= data.description%>
      </div>
    </div>
     <div class="container">
      <div class="elem">
        <b>Specie:</b><br><%= data.species%>
      </div>
      <div class="elem">
        <b>Spec. codice:</b><br><%= data.species_code%>
      </div>
      <div class="elem">
        <b>Generazione:</b><br><%= data.generation%>
      </div>
      <div class="elem">
        <b>Derivata da:</b><br><%= data.derivedFrom%>
      </div>
    </div>
    <div class="container">
      <div class="elem">
        <b>Acquistato da:</b><br><%= data.supplier.supplier_name%>
      </div>
      <div class="elem">
        <b>Acquistato il:</b><br><%= data.buyed%>
      </div>
      <div class="elem">
        <b>Sub. codice:</b><br><%= data.sub_code%>
      </div>
     
    </div>
    </div>
    <div class="container" style="width: 100%;">
    <h2 style="width: 100%; margin:15px 0px">Parametri coltivazione</h2>
    </div>
    
      <div class="container">
        <h4 style="    margin: 2px;
    border-bottom: solid 1px #ccc;
    padding-bottom: 3px;">Propagazione</h4>
        <div class="elemParam">
          <b>Temperatura:</b><br><%= data.incubation_temp%> °C
        </div>
        <div class="elemParam">
          <b>Umidità:</b><br><%= data.incubation_hum%> %
        </div>
        <div class="elemParam">
          <b>Durata:</b><br><%= data.incubation_len%> gg
        </div>
        <div class="elemParam">
          <b>CO2:</b><br><%= data.incubation_co2%> Ppm
        </div>
        <div class="elemParam">
          <b>Cambio aria:</b><br><%= data.incubation_airExch%> per ora
        </div>
        <div class="elemParam">
          <b>Luce:</b><br><%= data.incubation_light%> °kelvin
        </div>
      </div>
      <div class="container" >
        <h4 style="    margin: 2px;
    border-bottom: solid 1px #ccc;
    padding-bottom: 3px;">Primordi</h4>
        <div class="elemParam">
          <b>Temperatura:</b><br><%= data.primordia_temp%> °C
        </div>
        <div class="elemParam">
          <b>Umidità:</b><br><%= data.primordia_hum%> %
        </div>
        <div class="elemParam">
          <b>Durata:</b><br><%= data.primordia_len%> gg
        </div>
        <div class="elemParam">
          <b>CO2:</b><br><%= data.primordia_co2%> Ppm
        </div>
        <div class="elemParam">
          <b>Cambio aria:</b><br><%= data.primordia_airExch%> per ora
        </div>
        <div class="elemParam">
          <b>Luce:</b><br><%= data.primordia_light%> °kelvin
        </div>
      </div>
      <div class="container">
        <h4 style="    margin: 2px;
    border-bottom: solid 1px #ccc;
    padding-bottom: 3px;">Fruttificazione</h4>
        <div class="elemParam">
          <b>Temperatura:</b><br><%= data.fructification_temp%> °C
        </div>
        <div class="elemParam">
          <b>Umidità:</b><br><%= data.fructification_hum%> %
        </div>
        <div class="elemParam">
          <b>Durata:</b><br><%= data.fructification_len%> gg
        </div>
        <div class="elemParam">
          <b>CO2:</b><br><%= data.fructification_co2%> Ppm
        </div>
        <div class="elemParam">
          <b>Cambio aria:</b><br><%= data.fructification_airExch%> per ora
        </div>
        <div class="elemParam">
          <b>Luce:</b><br><%= data.fructification_light%> °kelvin
        </div>
      </div>
      <div class="container" style="width: 100%;">
        <h4 style="    margin: 2px;
    border-bottom: solid 1px #ccc;
    padding-bottom: 3px;">Coltivazione</h4>
        <div class="elemParam">
          <b>Indoor:</b><br><%- data.indoor==1?"Sì":"No"%>
        </div>
        <div class="elemParam">
          <b>Outdoor:</b><br><%- data.outdoor==1?"Sì":"No"%>
        </div>
      
      </div>
    
    <h3 class="container" style="width: 100%; margin-bottom:0px;">Elementi</h3>  
    <% if (data.inoculums.length>0){%>
      <h4 class="container" style="width: 100%;margin-top:10px;margin-bottom: 5px;">Inoculi</h4>
      <table class="table">
        <thead>
          <tr>
            <th style="width:45%">Codice</th>
            <th>Nome</th>
          </tr>
        </thead>
        <tbody>

          <% data.inoculums.forEach (el => {%>
             <tr>
            <td><%= el.code_inoculum %></td>
            <td><%= el.inoculum_name %></td>
          </tr>
          <% }) %>
          
        </tbody>
      </table>
    <% } %>
    <% if (data.spawns.length>0){%>
      <h4 class="container" style="width: 100%;margin-top:10px;margin-bottom: 5px;">Spawn</h4>
      <table class="table">
        <thead>
          <tr>
            <th style="width:45%">Codice</th>
            <th>Nome</th>
            
          </tr>
        </thead>
        <tbody>
          <% data.spawns.forEach (el => {%>
             <tr>
            <td><%= el.code_spawn %></td>
            <td><%= el.spawn_name %></td>
          </tr>
          <% }) %>
         
          
        </tbody>
      </table>
    <% } %>
    <% if (data.propagations.length>0){%>
      <h4 class="container" style="width: 100%;margin-top:10px; margin-bottom: 5px;">Coltivazione</h4>
      <table class="table">
        <thead>
          <tr>
            <th style="width:45%">Codice</th>
            <th>Nome</th>
          </tr>
        </thead>
        <tbody>
        <% data.propagations.forEach (el => {%>
             <tr>
            <td><%= el.code_propagation %></td>
            <td><%= el.propagation_name %></td>
          </tr>
          <% }) %>
          
        </tbody>
      </table>
    <% } %>
    
  </body>
</html>